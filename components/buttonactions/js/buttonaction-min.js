(function(f){var a=function(){return{init:function(){f(document).on("click",".property_favorite",function(){var h=f(this).serializeArray();var i=f(this);var g=f(this).closest("div").find(".xout");h.push({name:"action",value:"saveproperty_action"});h.push({name:"security",value:MDAjax.security});h.push({name:"property-id",value:f(this).data("property-id")});h.push({name:"property-feed",value:f(this).data("property-feed")});f.ajax({type:"POST",url:MDAjax.ajaxurl,data:h,dataType:"json"}).done(function(j){if(j.status){i.toggleClass("property_favorite property_favorite_remove");i.toggleClass("btn-default btn-primary");i.find(".fa").toggleClass("fa-heart-o fa-heart");if(g.hasClass("property_xout_remove")){g.toggleClass("property_xout_remove property_xout");g.toggleClass("btn-primary btn-default");g.find(".fa").toggleClass("fa-times-circle fa-times-circle-o")}alert(j.msg)}else{alert(j.msg)}});return false})}}}();var e=function(){return{init:function(){f(document).on("click",".property_xout",function(){var g=f(this).serializeArray();var i=f(this);var h=f(this).closest("div").find(".favorite");g.push({name:"action",value:"xoutproperty_action"});g.push({name:"security",value:MDAjax.security});g.push({name:"property-id",value:f(this).data("property-id")});g.push({name:"property-feed",value:f(this).data("property-feed")});f.ajax({type:"POST",url:MDAjax.ajaxurl,data:g,dataType:"json"}).done(function(j){if(j.status){i.toggleClass("property_xout property_xout_remove");i.toggleClass("btn-default btn-primary");i.find(".fa").toggleClass("fa-times-circle-o fa-times-circle");if(h.hasClass("property_favorite_remove")){h.toggleClass("property_favorite_remove property_favorite");h.toggleClass("btn-primary btn-default");h.find(".fa").toggleClass("fa-heart fa-heart-o")}alert(j.msg)}else{alert(j.msg)}});return false})}}}();var b=function(){return{init:function(){f(document).on("click",".property_favorite_remove",function(){var h=f(this).serializeArray();var i=f(this);var g=f(this).closest("div").find(".xout");h.push({name:"action",value:"remove_property_action"});h.push({name:"security",value:MDAjax.security});h.push({name:"property-id",value:f(this).data("property-id")});f.ajax({type:"POST",url:MDAjax.ajaxurl,data:h,dataType:"json"}).done(function(j){if(j.status){if(g.hasClass("property_xout_remove")){g.toggleClass("property_xout_remove property_xout");g.toggleClass("btn-primary btn-default");g.find(".fa").toggleClass("fa-times-circle fa-times-circle-o")}i.toggleClass("property_favorite_remove property_favorite");i.toggleClass("btn-primary btn-default");i.find(".fa").toggleClass("fa-heart fa-heart-o");alert(j.msg)}else{alert(j.msg)}});return false})}}}();var c=function(){return{init:function(){f(document).on("click",".property_xout_remove",function(){var g=f(this).serializeArray();var i=f(this);var h=f(this).closest("div").find(".favorite");g.push({name:"action",value:"remove_xout_property_action"});g.push({name:"security",value:MDAjax.security});g.push({name:"property-id",value:f(this).data("property-id")});f.ajax({type:"POST",url:MDAjax.ajaxurl,data:g,dataType:"json"}).done(function(j){if(j.status){if(h.hasClass("property_favorite_remove")){h.toggleClass("property_favorite_remove property_favorite");h.toggleClass("btn-primary btn-default");h.find(".fa").toggleClass("fa-heart fa-heart-o")}i.toggleClass("property_xout_remove property_xout");i.toggleClass("btn-primary btn-default");i.find(".fa").toggleClass("fa-times-circle fa-times-circle-o");alert(j.msg)}else{alert(j.msg)}});return false})}}}();var d=function(){return{init:function(){f(".sendtofriend").text("Send").attr("disabled",false);f(".closemodal").attr("disabled",false);f(".frm_send_link_mail").on("submit",function(){var g=f(this).serializeArray();g.push({name:"action",value:"sendtofriend_action"});g.push({name:"security",value:MDAjax.security});f(".sendtofriend-alert").removeClass("alert-success alert-danger");f(".sendtofriend").text("Processing..").attr("disabled",true);f(".closemodal").attr("disabled",true);f.ajax({type:"POST",url:MDAjax.ajaxurl,data:g,dataType:"json"}).done(function(h){if(h.status){f(".sendtofriend-alert").removeClass("hide alert-danger").addClass("alert-success").html(h.msg);setTimeout(function(){f(".send-to-friend-modal").modal("hide");location.reload(true)},2000)}else{f(".sendtofriend-alert").removeClass("hide alert-success").addClass("alert-danger").html(h.msg)}f(".sendtofriend").text("Send").attr("disabled",false);f(".closemodal").attr("disabled",false)});return false})}}}();f(window).load(function(){f(".register-open").on("click",function(j){var h=f("#registerModal");h.modal("show");f("#registerModal .content-text").empty();var g=f(this).data("current-action");if(typeof g!=="undefined"){f("#registerModal .current_action").val(g);f("#registerModal .content-text").html(jQuery(".content-"+g).html())}var i=f(this).data("post");if(typeof i!=="undefined"){f("#registerModal .data_post").val(i)}j.preventDefault()});a.init();b.init();e.init();c.init()})})(jQuery);
